#include <QString>
#include <QDebug>

float formatNumber(const QString& input) {
    int lastSignificantIndex = input.indexOf(QRegExp("[^0-9]")) - 1;

    if (lastSignificantIndex < 0) {
        return 0.0f;
    }

    QString formattedString = input.left(lastSignificantIndex + 1);
    formattedString.replace(",", ".");

    bool ok = false;
    float result = formattedString.toFloat(&ok);

    if (!ok) {
        result = 0.0f;
    }

    return result;
}

int main() {
    QString input = "0,008";
    float result = formatNumber(input);

    qDebug() << result;

    return 0;
}
