QString text = "Hello, World!"; // заданный текст
QFont font("Arial", 16); // шрифт для отображения текста

QPixmap pixmap(100, 100); // создание QPixmap нужного размера
pixmap.fill(Qt::transparent); // заполнение QPixmap прозрачным фоном

QPainter painter(&pixmap); // создание QPainter для рисования на QPixmap
painter.setFont(font); // установка шрифта для QPainter
painter.drawText(pixmap.rect(), Qt::AlignCenter, text); // рисование текста на QPixmap

// сохранение QPixmap в памяти в виде QByteArray
QByteArray bytes;
QBuffer buffer(&bytes);
buffer.open(QIODevice::WriteOnly);
pixmap.save(&buffer, "PNG");

// создание QPixmap из сохраненных данных
QPixmap restoredPixmap;
restoredPixmap.loadFromData(bytes);

// установка QPixmap в качестве фона объекта QGraphicsItem (например, DiagramItem)
DiagramItem* item = new DiagramItem();
item->setPixmap(restoredPixmap);
