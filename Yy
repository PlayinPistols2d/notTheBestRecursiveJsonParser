#include <QString>
#include <QRegExp>

QString replaceExponentialForm(const QString& expression)
{
    QString result = expression;
    QRegExp regex("([+-]?\\d*\\.?\\d+[eE][+-]?\\d+)");

    int pos = 0;
    while ((pos = regex.indexIn(result, pos)) != -1) {
        QString matchedNumber = regex.cap(1);
        bool ok;
        double number = matchedNumber.toDouble(&ok);

        if (ok) {
            QString replacement = QString::number(number, 'f', 6);  // Замените '6' на нужное вам количество знаков после запятой
            result.replace(pos, matchedNumber.length(), replacement);
            pos += replacement.length();
        } else {
            pos += matchedNumber.length();
        }
    }

    return result;
}
